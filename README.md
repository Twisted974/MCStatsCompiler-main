
# MCStatsCompiler

This project aims at taking a bunch of stats data file generated from Minecraft players and outputing nicely formatted statistics.


## Modules
For now, there are 2 modules in this project:

### Main module
This module takes vanilla stats files (json format) that can be found in the folder "stats". It has currently 2 features: 
- A leaderboard (console printed-only for now) of the desired statistic. For example, `minecraft:play_time` for the play time of each player.
- A "best-and-worst" (console printed-only for now) for the desired player. This gives the position of the player in each of the leaderboards of individual stats.

### Cobblemon module
This module takes statistics files generated by the Cobblemon mod (json format) that can be found in the folder "cobblemonplayerdata". It has currently 1 feature:
- A leaderboard of the players who caught the most Cobblemons. The leaderboard is output on an Excel sheet.


## Running the scripts

### 1. Installation
In order to run the scripts, start by downloading this repo. You need a valid installation of Python, as well as the required libraries. Here are the libraries used by the modules:
- Main module: json, os, pandas, configparser, ftplib
- Cobblemon module: json, os, pandas, numpy, configparser, openpyxl, datetime, ftplib, math

### 2. Update names.csv
All of your data files should be named [uuid].json, where [uuid] is the Minecraft UUID of the player. In order to work with the usernames of the players instead, you need to update the file **data/names.csv**. Simply add there all the UUID's of all your players and the corresponding username.

### 3. Edit the config
All modules have an associated config, named something like **[module]_config.ini**.
You need to edit it based on what you want.

### 4. Input files 
You have the choice between 2 options to input your JSON data files: local files or FTP:
- Drop them in the appropriate folder (**stats** for main module, **cobblemonplayerdata** for cobblemon module). Set UseFTP to false in the config to use those local files (it should be by default on false, so if you haven't changed it you're good to go).
- If you want to get your files directly from a FTP server, follow the related instructions in the config file. Basically, you need to create a file for the username, a file for the password, and change the relevant settings in the config and it should work.

### (Cobblemon module only) 5. Prepare output.xlsx
If you intend on using the leaderboard feature of the Cobblemon module, you need to prepare the **output.xlsx** file. Simply adapt the table to your desired number of players (for example, if you have 20 players, you can for example have a 5x4 table or a 10x2 table). You can also change the title, the colors and other formatting elements. Just make sure to keep 3 Excel columns per leaderboard column, and start it in the cell B3 (see example in the image below).

Don't forget to adapt the config file to your changes, especially the number of rows and columns if you have changed them! The subtitles of the table can also be configured there.

![Cobblemon example](images/cobblemon_example.PNG)

### 6. Run the script
You can now run the script of the module with your Python installation.
- For the main module: run **main_module/main.py**
- For the cobblemon module: run **cobblemon_module/cobblemon.py**
